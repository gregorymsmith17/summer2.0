{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Greg/Desktop/react/summer/src/components/dashboard.jsx\";\nimport React, { Component } from 'react';\nimport { Navbar, Nav, Grid, Jumbotron, Row, Col, NavItem, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport FileSaver from 'file-saver';\nimport * as jsPDF from 'jspdf';\nimport domtoimage from 'dom-to-image';\nimport fileDownload from \"js-file-download\";\nimport Request from 'superagent';\nimport firebase from 'firebase';\nimport { fire } from '../fire';\nimport { BootstrapTable, BootstrapButton, TableHeaderColumn } from 'react-bootstrap-table';\nimport { TiArrowSortedDown, TiArrowSortedUp, TiPencil, TiTrash } from \"react-icons/ti\";\nimport { LineChart, BarChart, Bar, Surface, ReferenceLine, ReferenceArea, AreaChart, Brush, Area, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n\n    _this.ammoniaOn = function () {\n      var ammonia = \"ammoniaResult\";\n\n      _this.setState({\n        ammoniaPlot: ammonia\n      });\n    };\n\n    _this.ammoniaOff = function () {\n      var ammonia = '';\n\n      _this.setState({\n        ammoniaPlot: ammonia\n      });\n    };\n\n    _this.filter = function (url) {\n      domtoimage.toBlob(document.getElementById('my-node')).then(function (blob) {\n        console.log(blob);\n        var blobUrl = URL.createObjectURL(blob);\n        console.log(blobUrl);\n\n        _this.setState({\n          blobUrl: blobUrl\n        });\n      });\n    };\n\n    _this.onDrag = function (event) {\n      event.preventDefault();\n    };\n\n    _this.onDrop = function (event) {\n      event.preventDefault();\n      var file = event.dataTransfer.files[0];\n\n      _this.setState({\n        file: file\n      });\n    };\n\n    _this.getWeather =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e, list) {\n        var apiKey, weatherData, api_call, response, i;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                apiKey = '30573b68170d7f4400c7ac9c1c671ccf';\n                weatherData = [];\n                _context.next = 4;\n                return fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\".concat('Oakland', \"&units=\", 'imperial', \"&appid=\", '30573b68170d7f4400c7ac9c1c671ccf'));\n\n              case 4:\n                api_call = _context.sent;\n                _context.next = 7;\n                return api_call.json();\n\n              case 7:\n                response = _context.sent;\n\n                for (i = 0; i < response.list.length; i++) {\n                  weatherData.push({\n                    temp: response.list[i].main.temp,\n                    date: new Date(Date.parse(response.list[i].dt_txt))\n                  });\n                  console.log(weatherData);\n\n                  _this.setState({\n                    weatherData: weatherData\n                  });\n                }\n\n                console.log(response);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      weatherData: [],\n      id: '',\n      key: 1,\n      idKey: '',\n      page: '',\n      area: '',\n      areaData: [],\n      responsibility: '',\n      responsibilityData: [],\n      startDate: '',\n      startDateData: [],\n      endDate: '',\n      endDateData: [],\n      description: '',\n      descriptionData: [],\n      checkbox: '',\n      checkboxData: [],\n      samples: [],\n      orders: [],\n      orders2: [],\n      dataList: [],\n      filter: \"\",\n      blob: null,\n      file: null,\n      blobUrl: null,\n      report: [] //these are triggered events.  handleChange is for text box changes\n      //handlesubmit is for the form being submitted.\n      //every event trigger needs to be bound like is below with .bind\n      //we might now have to do this anymore with the newest version of react, but i have it to be safe.\n\n    };\n    _this.filter = _this.filter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"dailySamples/\".concat(user.uid));\n        samplesRef.on('value', function (snapshot) {\n          var startDateData = [];\n          var endDateData = [];\n          var descriptionData = [];\n          var responsibilityData = [];\n          var areaData = [];\n          var checkboxData = [];\n          var idData = [];\n          var sampleDateData = [];\n          var ammoniaResultData = [];\n          var dataList = snapshot.val();\n          var filter = [];\n          var orders = snapshot.val();\n          var orders2 = snapshot.val();\n          var orders3 = snapshot.val();\n          var newState = [];\n          var newState2 = [];\n          var newState3 = [];\n\n          for (var order in orders) {\n            newState.push({\n              id: order,\n              startDate: orders[order].startDate,\n              endDate: orders[order].endDate,\n              description: orders[order].description,\n              responsibility: orders[order].responsibility,\n              area: orders[order].area,\n              sampleDate: orders[order].sampleDate,\n              sampleTime: orders[order].sampleTime,\n              operator: orders[order].operator,\n              sampleLocation: orders[order].sampleLocation,\n              temperatureResult: orders[order].temperatureResult,\n              conductivityResult: orders[order].conductivityResult,\n              pHResult: orders[order].pHResult,\n              DOResult: orders[order].DOResult,\n              nitrateResult: orders[order].nitrateResult,\n              nitriteResult: orders[order].nitriteResult,\n              ammoniaResult: orders[order].ammoniaResult,\n              totalInorganicNitrogen: orders[order].totalInorganicNitrogen,\n              turbidityResult: orders[order].turbidityResult,\n              TSSResult: orders[order].TSSResult\n            });\n          }\n\n          for (var order2 in orders2) {\n            newState2.push({\n              sampleDate: orders2[order2].sampleDate,\n              DOResult: orders2[order2].DOResult,\n              nitrateResult: orders2[order2].nitrateResult,\n              nitriteResult: orders2[order2].nitriteResult,\n              ammoniaResult: orders2[order2].ammoniaResult\n            });\n          }\n\n          newState2.sort(function (a, b) {\n            if (a.sampleDate === b.sampleDate) {\n              return 0;\n            }\n\n            return a.sampleDate > b.sampleDate ? 1 : -1;\n          });\n          newState.sort(function (a, b) {\n            if (b.sampleDate === a.sampleDate) {\n              return 0;\n            }\n\n            return b.sampleDate > a.sampleDate ? 1 : -1;\n          });\n\n          _this2.setState({\n            orders: newState,\n            orders2: newState2,\n            dataList: newState\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var file = this.state.file;\n      var url = file && URL.createObjectURL(file);\n      var img = document.createElement(\"my-node\");\n      return React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 11,\n        sm: 11,\n        md: 11,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Summer Lake\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Homeowners Association\"), React.createElement(Button, {\n        onClick: this.getWeather,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Get Weather\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }), React.createElement(Row, {\n        style: {\n          paddingTop: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 5,\n        sm: 5,\n        md: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        data: this.state.weatherData,\n        exportCSV: true,\n        pagination: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        dataField: \"date\",\n        isKey: true,\n        filter: {\n          type: 'RegexFilter',\n          delay: 1000\n        },\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, \" Date\"), React.createElement(TableHeaderColumn, {\n        dataField: \"mechanicalEquipmentNotes\",\n        filter: {\n          type: 'RegexFilter',\n          delay: 1000\n        },\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \"Temp\")))))));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nexport { Dashboard as default };","map":{"version":3,"sources":["/Users/Greg/Desktop/react/summer/src/components/dashboard.jsx"],"names":["React","Component","Navbar","Nav","Grid","Jumbotron","Row","Col","NavItem","Button","Link","ReactDOM","FileSaver","jsPDF","domtoimage","fileDownload","Request","firebase","fire","BootstrapTable","BootstrapButton","TableHeaderColumn","TiArrowSortedDown","TiArrowSortedUp","TiPencil","TiTrash","LineChart","BarChart","Bar","Surface","ReferenceLine","ReferenceArea","AreaChart","Brush","Area","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","Dashboard","props","ammoniaOn","ammonia","setState","ammoniaPlot","ammoniaOff","filter","url","toBlob","document","getElementById","then","blob","console","log","blobUrl","URL","createObjectURL","onDrag","event","preventDefault","onDrop","file","dataTransfer","files","getWeather","e","list","apiKey","weatherData","fetch","api_call","json","response","i","length","push","temp","main","date","Date","parse","dt_txt","state","id","key","idKey","page","area","areaData","responsibility","responsibilityData","startDate","startDateData","endDate","endDateData","description","descriptionData","checkbox","checkboxData","samples","orders","orders2","dataList","report","bind","removeAuthListener","auth","onAuthStateChanged","user","samplesRef","database","ref","uid","on","snapshot","idData","sampleDateData","ammoniaResultData","val","orders3","newState","newState2","newState3","order","sampleDate","sampleTime","operator","sampleLocation","temperatureResult","conductivityResult","pHResult","DOResult","nitrateResult","nitriteResult","ammoniaResult","totalInorganicNitrogen","turbidityResult","TSSResult","order2","sort","a","b","img","createElement","paddingTop","type","delay"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Navbar, Nav, Grid, Jumbotron, Row, Col, NavItem, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport FileSaver from 'file-saver';\nimport * as jsPDF from 'jspdf';\nimport domtoimage from 'dom-to-image';\nimport fileDownload from \"js-file-download\";\nimport Request from 'superagent';\n\nimport firebase from 'firebase';\nimport { fire } from '../fire';\n\n\nimport {BootstrapTable, BootstrapButton, TableHeaderColumn} from 'react-bootstrap-table';\nimport { TiArrowSortedDown, TiArrowSortedUp, TiPencil, TiTrash } from \"react-icons/ti\";\n\nimport { LineChart, BarChart, Bar, Surface, ReferenceLine, ReferenceArea, AreaChart, Brush, Area, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend} from 'recharts';\n\n\n\nexport default class Dashboard extends Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n\n        weatherData: [],\n\n        id: '',\n        key: 1,\n        idKey: '',\n        page: '',\n        area: '',\n        areaData: [],\n        responsibility: '',\n        responsibilityData: [],\n        startDate: '',\n        startDateData: [],\n        endDate: '',\n        endDateData: [],\n        description: '',\n        descriptionData: [],\n        checkbox: '',\n        checkboxData: [],\n        samples: [],\n        orders: [],\n        orders2: [],\n        dataList: [],\n        filter: \"\",\n        blob: null,\n        file:null,\n        blobUrl: null,\n\n        report: [],\n\n\n\n\n\n      }\n      //these are triggered events.  handleChange is for text box changes\n      //handlesubmit is for the form being submitted.\n      //every event trigger needs to be bound like is below with .bind\n      //we might now have to do this anymore with the newest version of react, but i have it to be safe.\n\n      this.filter = this.filter.bind(this);\n\n\n\n    }\n\n\n\n\n\n\n\n  componentDidMount() {\n    this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n\n\n\n      const samplesRef = fire.database().ref(`dailySamples/${user.uid}`);\n      samplesRef.on('value', (snapshot) => {\n\n        let startDateData = [];\n        let endDateData = [];\n        let descriptionData = [];\n        let responsibilityData = [];\n        let areaData = [];\n        let checkboxData = [];\n        let idData = [];\n        let sampleDateData = [];\n        let ammoniaResultData = [];\n\n        let dataList = snapshot.val();\n        let filter = [];\n\n\n      let orders = snapshot.val();\n      let orders2 = snapshot.val();\n      let orders3 = snapshot.val();\n\n      let newState = [];\n      let newState2 = [];\n      let newState3 = [];\n\n      for (let order in orders) {\n        newState.push({\n          id: order,\n          startDate: orders[order].startDate,\n          endDate: orders[order].endDate,\n          description: orders[order].description,\n          responsibility: orders[order].responsibility,\n          area: orders[order].area,\n\n          sampleDate: orders[order].sampleDate,\n          sampleTime: orders[order].sampleTime,\n          operator: orders[order].operator,\n          sampleLocation: orders[order].sampleLocation,\n          temperatureResult: orders[order].temperatureResult,\n          conductivityResult: orders[order].conductivityResult,\n          pHResult: orders[order].pHResult,\n          DOResult: orders[order].DOResult,\n          nitrateResult: orders[order].nitrateResult,\n          nitriteResult: orders[order].nitriteResult,\n          ammoniaResult: orders[order].ammoniaResult,\n          totalInorganicNitrogen: orders[order].totalInorganicNitrogen,\n          turbidityResult: orders[order].turbidityResult,\n          TSSResult: orders[order].TSSResult,\n\n        });\n      }\n      for (let order2 in orders2) {\n        newState2.push({\n\n          sampleDate: orders2[order2].sampleDate,\n          DOResult: orders2[order2].DOResult,\n          nitrateResult: orders2[order2].nitrateResult,\n          nitriteResult: orders2[order2].nitriteResult,\n          ammoniaResult: orders2[order2].ammoniaResult,\n\n        });\n      }\n      newState2.sort(function(a, b) {\n\n        if (a.sampleDate === b.sampleDate) {\n          return 0;\n        }\n        return a.sampleDate > b.sampleDate ? 1 : -1;\n    });\n    newState.sort(function(a, b) {\n\n      if (b.sampleDate === a.sampleDate) {\n        return 0;\n      }\n      return b.sampleDate > a.sampleDate ? 1 : -1;\n  });\n\n\n      this.setState({\n        orders: newState,\n        orders2: newState2,\n        dataList: newState,\n      });\n    });\n  });\n  }\n\n  ammoniaOn = () => {\n    let ammonia = \"ammoniaResult\";\n    this.setState({\n      ammoniaPlot: ammonia,\n\n    })\n  }\n\n  ammoniaOff = () => {\n    let ammonia = '';\n    this.setState({\n      ammoniaPlot: ammonia,\n\n    })\n\n  }\n\n  filter = (url) => {\n\n\n\n    domtoimage.toBlob(document.getElementById('my-node'))\n        .then((blob) => {\n\n\n            console.log(blob);\n            const blobUrl = URL.createObjectURL(blob);\n\n            console.log(blobUrl);\n\n            this.setState({\n              blobUrl: blobUrl,\n            })\n\n        });\n\n\n}\n\nonDrag = event => {\n  event.preventDefault()\n}\n\nonDrop = event => {\n  event.preventDefault()\n  let file = event.dataTransfer.files[0]\n  this.setState({ file })\n}\n\ngetWeather = async (e, list) => {\n\n  let apiKey = '30573b68170d7f4400c7ac9c1c671ccf'\n  let weatherData = [];\n\n  const api_call = await fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${'Oakland'}&units=${'imperial'}&appid=${'30573b68170d7f4400c7ac9c1c671ccf'}`);\n\n\n\n  const response = await api_call.json();\n\n  for (let i=0; i < response.list.length; i++) {\n\n    weatherData.push({temp: response.list[i].main.temp, date: new Date(Date.parse(response.list[i].dt_txt))});\n\n\n    console.log(weatherData);\n\n    this.setState({\n      weatherData: weatherData,\n    })\n\n\n\n\n}\n\n\n\n\n\n  console.log(response);\n\n}\n\n\n\n\n\n\n  render() {\n    let { file } = this.state\n\n    let url = file && URL.createObjectURL(file)\n\n\n    let img = document.createElement(\"my-node\");\n\n\n\n\n    return (\n      <Grid>\n        <Row>\n          <Col xs={11} sm={11} md={11} >\n        <Jumbotron>\n          <h1>Summer Lake</h1>\n          <p>\n            Homeowners Association\n          </p>\n          <Button onClick={this.getWeather}>Get Weather</Button>\n\n\n        </Jumbotron>\n        <hr></hr>\n\n\n\n\n\n\n\n<Row style={{paddingTop: \"50px\"}}>\n  <Col xs={5} sm={5} md={5} >\n\n    <BootstrapTable\n    data={ this.state.weatherData }\n    \n    exportCSV\n    pagination\n\n\n    >\n\n    <TableHeaderColumn dataField='date' isKey filter={ { type: 'RegexFilter', delay: 1000 }  } dataSort> Date</TableHeaderColumn>\n\n    <TableHeaderColumn dataField='mechanicalEquipmentNotes' filter={ { type: 'RegexFilter', delay: 1000 }  } dataSort>Temp</TableHeaderColumn>\n\n\n\n\n\n    </BootstrapTable>\n\n\n</Col>\n\n</Row>\n\n\n\n\n\n\n\n        </Col>\n        </Row>\n      </Grid>\n\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}