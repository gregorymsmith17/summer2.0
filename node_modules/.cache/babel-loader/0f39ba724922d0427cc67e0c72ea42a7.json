{"ast":null,"code":"import _defineProperty from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Greg/Desktop/react/summer/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { fire, facebookProvider } from './fire';\nimport './App.css';\nimport SignInScreen from './components/SignInScreen';\nimport home from './components/frontPage/home';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport * as firebaseui from 'firebaseui';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      items: {},\n      authenticated: false,\n      loading: true,\n      isSignedIn: false\n    };\n    _this.itemsRef = '';\n    _this.uiConfig = {\n      // Popup signin flow rather than redirect flow.\n      signInFlow: 'popup',\n      'credentialHelper': firebaseui.auth.CredentialHelper.NONE,\n      signInSuccessUrl: '/home',\n      // We will display Google and Facebook as auth providers.\n      signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebaseui.auth.CredentialHelper.NONE],\n      callbacks: {\n        // Avoid redirects after sign-in.\n        signInSuccessWithAuthResult: function signInSuccessWithAuthResult() {\n          return false;\n        }\n      }\n    };\n\n    _this.authWithFacebook = function () {\n      fire.auth().signInWithPopup(facebookProvider).then(function (result, error) {\n        if (error) {\n          console.log('unable to signup with firebase');\n        } else {\n          _this.setState({\n            authenticated: true\n          });\n        }\n      });\n    };\n\n    _this.logOut = function () {\n      fire.auth().signOut().then(function (user) {\n        _this.setState({\n          items: null\n        });\n      });\n    };\n\n    _this.completeItem = function (id) {\n      _this.itemsRef.update(_defineProperty({}, id, _objectSpread({}, _this.state.items[id], {\n        completed: true\n      })));\n    };\n\n    _this.deleteItem = function (id) {\n      _this.itemsRef.update(_defineProperty({}, id, null));\n    };\n\n    _this.addItem = function (e) {\n      e.preventDefault();\n\n      _this.itemsRef.push({\n        item: _this.todoItem.value,\n        completed: false\n      });\n    };\n\n    _this.EmailAndPasswordAuthentication = function (e) {\n      e.preventDefault();\n      var email = _this.emailInput.value;\n      var password = _this.passwordInput.value;\n      fire.auth().fetchProvidersForEmail(email).then(function (provider) {\n        if (provider.length === 0) {\n          return fire.auth().createUserWithEmailAndPassword(email, password);\n        } else if (provider.indexOf(\"password\") === -1) {\n          console.log(\"you already have an account with \" + provider[0]);\n        } else {\n          console.log(provider);\n          return fire.auth().signInWithEmailAndPassword(email, password);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(function (user) {\n        return _this2.setState({\n          isSignedIn: !!user\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterAuthObserver();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.loading) {\n        return React.createElement(\"div\", {\n          style: {\n            textAlign: \"center\",\n            position: \"absolute\",\n            top: \"25%\",\n            left: \"50%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, \"My App\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Please sign-in:\"), React.createElement(StyledFirebaseAuth, {\n          uiConfig: this.uiConfig,\n          firebaseAuth: firebase.auth(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"home\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/Greg/Desktop/react/summer/src/App.js"],"names":["React","Component","BrowserRouter","Route","fire","facebookProvider","SignInScreen","home","StyledFirebaseAuth","firebase","firebaseui","App","state","items","authenticated","loading","isSignedIn","itemsRef","uiConfig","signInFlow","auth","CredentialHelper","NONE","signInSuccessUrl","signInOptions","EmailAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","authWithFacebook","signInWithPopup","then","result","error","console","log","setState","logOut","signOut","user","completeItem","id","update","completed","deleteItem","addItem","e","preventDefault","push","item","todoItem","value","EmailAndPasswordAuthentication","email","emailInput","password","passwordInput","fetchProvidersForEmail","provider","length","createUserWithEmailAndPassword","indexOf","signInWithEmailAndPassword","unregisterAuthObserver","onAuthStateChanged","textAlign","position","top","left"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { fire, facebookProvider } from './fire';\nimport './App.css'\n\nimport SignInScreen from './components/SignInScreen';\nimport home from './components/frontPage/home';\n\n\n\n\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport * as firebaseui from 'firebaseui';\n\n\nclass App extends Component {\n  state = {\n    items: {},\n    authenticated: false,\n    loading: true,\n    isSignedIn: false\n\n  }\n  itemsRef = '';\n\n  uiConfig = {\n\n     // Popup signin flow rather than redirect flow.\n     signInFlow: 'popup',\n     'credentialHelper': firebaseui.auth.CredentialHelper.NONE,\n     signInSuccessUrl: '/home',\n     // We will display Google and Facebook as auth providers.\n     signInOptions: [\n       firebase.auth.EmailAuthProvider.PROVIDER_ID,\n       firebaseui.auth.CredentialHelper.NONE,\n\n     ],\n     callbacks: {\n       // Avoid redirects after sign-in.\n       signInSuccessWithAuthResult: () => false\n     }\n   };\n\n\n  componentDidMount() {\n    this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n        (user) => this.setState({isSignedIn: !!user})\n    );\n  }\n\n  authWithFacebook=()=>{\n    fire.auth().signInWithPopup(facebookProvider)\n      .then((result,error) => {\n        if(error){\n          console.log('unable to signup with firebase')\n        } else {\n          this.setState({authenticated: true })\n        }\n      })\n  }\n  logOut=()=>{\n    fire.auth().signOut().then((user)=> {\n      this.setState({items:null})\n    })\n  }\n  componentWillUnmount(){\n\n    this.unregisterAuthObserver();\n  }\n  completeItem=(id)=>{\n    this.itemsRef.update({\n      [id]:{\n        ...this.state.items[id],\n        completed: true\n      }\n    })\n  }\n  deleteItem = (id) => {\n    this.itemsRef.update({\n      [id]: null\n    })\n  }\n  addItem=(e)=> {\n    e.preventDefault();\n    this.itemsRef.push({\n      item: this.todoItem.value,\n      completed: false\n    })\n  }\n  EmailAndPasswordAuthentication=(e)=>{\n    e.preventDefault()\n    const email = this.emailInput.value;\n    const password = this.passwordInput.value;\n    fire.auth().fetchProvidersForEmail(email)\n      .then(provider => {\n        if(provider.length === 0){\n          return fire.auth().createUserWithEmailAndPassword(email, password)\n        }else if (provider.indexOf(\"password\") === -1) {\n          console.log(\"you already have an account with \" + provider[0] )\n      } else {\n        console.log(provider)\n        return fire.auth().signInWithEmailAndPassword(email, password)\n      }\n      })\n  }\n\n  render() {\n  if (!this.state.loading) {\n    return (\n      <div style={{ textAlign: \"center\", position: \"absolute\", top: \"25%\", left: \"50%\" }}>\n        <h1>My App</h1>\n        <p>Please sign-in:</p>\n        <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()}/>\n\n      </div>\n    )\n  }\n  return (\n    <BrowserRouter>\n      <div className=\"wrap\">\n\n\n        <home />\n\n      </div>\n    </BrowserRouter>\n  );\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}