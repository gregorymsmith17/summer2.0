{"ast":null,"code":"import _defineProperty from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Greg/Desktop/react/summer/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Greg/Desktop/react/summer/src/components/uploadDocument.jsx\";\nimport React, { Component } from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport { Navbar, Nav, NavItem, ResponsiveEmbed, ButtonToolbar, Form, Grid, FormGroup, Radio, Table, Popover, ControlLabel, MenuItem, DropdownButton, FormControl, Checkbox } from 'react-bootstrap';\nimport firebase from 'firebase';\nimport { fire } from '../fire';\nimport FileUploader from \"react-firebase-file-uploader\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { map } from 'lodash';\nimport { compose, withHandlers, setPropTypes } from 'recompose';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Dropzone from 'react-dropzone';\nimport { TiArrowSortedDown, TiPencil, TiTrash, TiDownload } from \"react-icons/ti\";\nimport { BootstrapTable, BootstrapButton, TableHeaderColumn, ExportCSVButton } from 'react-bootstrap-table';\nimport { Row, Col, Tabs, message, Card, Drawer, Menu, Icon, Dropdown, Button, Layout, Carousel, Upload } from 'antd';\nvar styles = {\n  topPad: {\n    paddingTop: \"20px\"\n  },\n  leftPad: {\n    paddingLeft: \"20px\"\n  }\n};\nvar props = {\n  name: 'file',\n  multiple: true,\n  action: '//jsonplaceholder.typicode.com/posts/',\n  onChange: function onChange(info) {\n    var status = info.file.status;\n\n    if (status !== 'uploading') {\n      console.log(info.file, info.fileList);\n    }\n\n    if (status === 'done') {\n      message.success(\"\".concat(info.file.name, \" file uploaded successfully.\"));\n    } else if (status === 'error') {\n      message.error(\"\".concat(info.file.name, \" file upload failed.\"));\n    }\n  }\n};\nvar Dragger = Upload.Dragger;\nvar TabPane = Tabs.TabPane;\n\nvar uploadDocument =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(uploadDocument, _Component);\n\n  function uploadDocument() {\n    var _this;\n\n    _classCallCheck(this, uploadDocument);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(uploadDocument).call(this));\n\n    _this.handleChangeUsername = function (event) {\n      return _this.setState({\n        username: event.target.value\n      });\n    };\n\n    _this.handleUploadStart = function () {\n      return _this.setState({\n        isUploading: true,\n        progress: 0\n      });\n    };\n\n    _this.handleProgress = function (progress) {\n      return _this.setState({\n        progress: progress\n      });\n    };\n\n    _this.handleUploadError = function (error) {\n      _this.setState({\n        isUploading: false\n      });\n\n      console.error(error);\n    };\n\n    _this.handleUploadSuccess = function () {};\n\n    _this.addPermit = function () {\n      _this.setState({\n        documentType: 'permit',\n        avatarURL: _this.state.avatarURL\n      });\n\n      console.log(_this.state.avatarURL);\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"permits/\".concat(user.uid));\n        var metaDataPermit = {\n          downloadLink: _this.state.avatarURL,\n          filename: _this.state.filename,\n          documentType: _this.state.documentType\n        };\n        samplesRef.push(metaDataPermit);\n      });\n    };\n\n    _this.addReport = function () {\n      _this.setState({\n        documentType: 'reports',\n        avatarURL: _this.state.avatarURL\n      });\n\n      console.log(_this.state.avatarURL);\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"reports/\".concat(user.uid));\n        var metaDataReport = {\n          downloadLink: _this.state.avatarURL,\n          filename: _this.state.filename,\n          documentType: _this.state.documentType\n        };\n        samplesRef.push(metaDataReport);\n      });\n    };\n\n    _this.addDrawing = function () {\n      _this.setState({\n        documentType: 'drawings',\n        avatarURL: _this.state.avatarURL\n      });\n\n      console.log(_this.state.avatarURL);\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"drawings/\".concat(user.uid));\n        var metaDataDrawings = {\n          downloadLink: _this.state.avatarURL,\n          filename: _this.state.filename,\n          documentType: _this.state.documentType\n        };\n        samplesRef.push(metaDataDrawings);\n      });\n    };\n\n    _this.addEquipmentManual = function () {\n      _this.setState({\n        avatarURL: _this.state.avatarURL\n      });\n\n      console.log(_this.state.avatarURL);\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"equipmentManual/\".concat(user.uid));\n        var metaDataEquipmentManual = {\n          downloadLink: _this.state.avatarURL,\n          filename: _this.state.filename,\n          documentType: _this.state.documentType\n        };\n        samplesRef.push(metaDataEquipmentManual);\n      });\n    };\n\n    _this.onDrag = function (event) {\n      event.preventDefault();\n    };\n\n    _this.onDrop = function (event) {\n      event.preventDefault();\n      var file = event.dataTransfer.files[0];\n\n      _this.setState({\n        file: file,\n        upload: 0\n      });\n\n      console.log(file);\n    };\n\n    _this.upload = function () {\n      var filename = _this.state.file.name;\n      var storageRef = firebase.storage().ref('/images/' + filename);\n      var uploadTask = storageRef.put(_this.state.file);\n      var filename = _this.state.file.name; // Register three observers:\n      // 1. 'state_changed' observer, called any time the state changes\n      // 2. Error observer, called on failure\n      // 3. Completion observer, called on successful completion\n\n      uploadTask.on('state_changed', function (snapshot) {\n        // Observe state change events such as progress, pause, and resume\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n        var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        console.log('Upload is ' + progress + '% done');\n\n        _this.setState({\n          upload: progress\n        });\n\n        switch (snapshot.state) {\n          case firebase.storage.TaskState.PAUSED:\n            // or 'paused'\n            console.log('Upload is paused');\n            break;\n\n          case firebase.storage.TaskState.RUNNING:\n            // or 'running'\n            console.log('Upload is running');\n            break;\n        }\n      }, function (error) {// Handle unsuccessful uploads\n      }, function () {\n        // Handle successful uploads on complete\n        // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n        message.success(\"\".concat(_this.state.file.name, \" file uploaded successfully.\"));\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          console.log('File available at', downloadURL);\n\n          _this.setState({\n            downloadURL: downloadURL\n          });\n        });\n      });\n    };\n\n    _this.uploadFile = function (event) {\n      console.log(event.target.files[0]);\n\n      _this.setState({\n        fileID: event.target.files[0]\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      avatar: \"\",\n      isUploading: false,\n      progress: 0,\n      avatarURL: \"\",\n      userID: \"\",\n      filename: \"\",\n      orders: [],\n      reports: [],\n      drawings: [],\n      documentType: \"\",\n      fileID: \"\",\n      blob: null,\n      file: null,\n      blobUrl: null,\n      upload: '',\n      downloadURL: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(uploadDocument, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"permits/\".concat(user.uid));\n        samplesRef.on('value', function (snapshot) {\n          var orders = snapshot.val();\n          console.log(orders);\n          var newState = [];\n\n          for (var order in orders) {\n            newState.push({\n              id: order,\n              downloadLink: orders[order].downloadLink,\n              filename: orders[order].filename\n            });\n          }\n\n          _this2.setState({\n            orders: newState\n          });\n        });\n      });\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"reports/\".concat(user.uid));\n        samplesRef.on('value', function (snapshot) {\n          var reports = snapshot.val();\n          console.log(reports);\n          var newState = [];\n\n          for (var report in reports) {\n            newState.push({\n              id: report,\n              downloadLink: reports[report].downloadLink,\n              filename: reports[report].filename\n            });\n          }\n\n          _this2.setState({\n            reports: newState\n          });\n        });\n      });\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"drawings/\".concat(user.uid));\n        samplesRef.on('value', function (snapshot) {\n          var drawings = snapshot.val();\n          console.log(drawings);\n          var newState = [];\n\n          for (var drawing in drawings) {\n            newState.push({\n              id: drawing,\n              downloadLink: drawings[drawing].downloadLink,\n              filename: drawings[drawing].filename\n            });\n          }\n\n          _this2.setState({\n            drawings: newState\n          });\n        });\n      });\n    }\n  }, {\n    key: \"removeReport\",\n    value: function removeReport(itemId) {\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var sampleRef = fire.database().ref(\"/reports/\".concat(user.uid, \"/\").concat(itemId));\n        sampleRef.remove();\n      });\n    }\n  }, {\n    key: \"removeDrawing\",\n    value: function removeDrawing(itemId) {\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var sampleRef = fire.database().ref(\"/drawings/\".concat(user.uid, \"/\").concat(itemId));\n        sampleRef.remove();\n      });\n    }\n  }, {\n    key: \"deleteDrawing\",\n    value: function deleteDrawing(row, isSelected, e, id) {\n      var _this3 = this;\n\n      console.log(\"\".concat(isSelected.id));\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"delete\",\n        style: {\n          fontSize: '24px'\n        },\n        onClick: function onClick() {\n          return _this3.removeDrawing(\"\".concat(isSelected.id));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"Click me\"));\n    }\n  }, {\n    key: \"deleteReport\",\n    value: function deleteReport(row, isSelected, e, id) {\n      var _this4 = this;\n\n      console.log(\"\".concat(isSelected.id));\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"delete\",\n        style: {\n          fontSize: '24px'\n        },\n        onClick: function onClick() {\n          return _this4.removeReport(\"\".concat(isSelected.id));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Click me\"));\n    }\n  }, {\n    key: \"editRow\",\n    value: function editRow(row, isSelected, e, id) {\n      console.log(\"\".concat(isSelected.id));\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"download\",\n        style: {\n          fontSize: '24px'\n        },\n        onClick: function onClick() {\n          return window.open(\"\".concat(isSelected.downloadLink), \"_blank\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Download Page\")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _React$createElement;\n\n      var file = this.state.file;\n      console.log(this.state.file);\n      var url = file && URL.createObjectURL(file);\n      var img = document.createElement(\"my-node\");\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          background: '#F0F0F0',\n          padding: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24,\n          lg: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 18,\n        lg: 18,\n        xl: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, \"Upload Documents\")))))), React.createElement(\"div\", {\n        style: {\n          background: '#F0F0F0',\n          paddingTop: '15px',\n          paddingRight: '5px',\n          paddingLeft: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24,\n          lg: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        defaultActiveKey: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: \"Upload Documents\",\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        style: {\n          paddingTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          lineHeight: '2px',\n          paddingLeft: '0px',\n          fontSize: '32px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"UPLOAD DOCUMENTS\")))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 24,\n        style: {\n          verticalAlign: 'middle',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          border: '1px dashed #d9d9d9',\n          transition: 'border-color 0.3s',\n          cursor: 'pointer',\n          borderRadius: '4px',\n          textAlign: 'center',\n          width: '100%',\n          height: '100%',\n          position: 'relative',\n          backgroundColor: '#fafafa'\n        },\n        onDragOver: this.onDrag,\n        onDrop: this.onDrop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          verticalAlign: 'middle',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        style: {\n          fontSize: '48px'\n        },\n        type: \"inbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, \"Drop an image!\"), React.createElement(\"p\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, \"Click or drag file to this area to upload\"), React.createElement(\"p\", {\n        className: \"ant-upload-hint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, \"Support for a single  upload. Strictly prohibit from uploading company data or other band files\"))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 6,\n        md: 6,\n        lg: 6,\n        xl: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"File\")), React.createElement(Col, {\n        xs: 24,\n        sm: 18,\n        md: 18,\n        lg: 18,\n        xl: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, React.createElement(Dragger, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"ant-upload-drag-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"inbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, \"Click or drag file to this area to upload\"), React.createElement(\"p\", {\n        className: \"ant-upload-hint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, \"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files\")), React.createElement(Button, {\n        onClick: this.upload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }, \"Upload\"))))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        style: styles.topPad,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, \"Reports\"), React.createElement(BootstrapTable, {\n        data: this.state.reports,\n        pagination: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        dataField: \"filename\",\n        isKey: true,\n        filter: {\n          type: 'RegexFilter',\n          delay: 1000\n        },\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, \"File Name\"), React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        dataFormat: this.editRow.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, \"Download File\"), React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        dataFormat: this.deleteReport.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }, \"Delete File\"))), React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        style: styles.topPad,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, \"Drawings\"), React.createElement(BootstrapTable, {\n        data: this.state.drawings,\n        pagination: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, (_React$createElement = {\n        dataField: \"filename\",\n        isKey: true,\n        dataSort: true,\n        filter: {\n          type: 'RegexFilter',\n          delay: 1000\n        }\n      }, _defineProperty(_React$createElement, \"dataSort\", true), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), \"File Name\"), React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        dataFormat: this.editRow.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523\n        },\n        __self: this\n      }, \"Download File\"), React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        dataFormat: this.deleteDrawing.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, \"Delete File\")))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      }))))))))))));\n    }\n  }]);\n\n  return uploadDocument;\n}(Component);\n\nexport { uploadDocument as default };","map":{"version":3,"sources":["/Users/Greg/Desktop/react/summer/src/components/uploadDocument.jsx"],"names":["React","Component","Link","Route","Navbar","Nav","NavItem","ResponsiveEmbed","ButtonToolbar","Form","Grid","FormGroup","Radio","Table","Popover","ControlLabel","MenuItem","DropdownButton","FormControl","Checkbox","firebase","fire","FileUploader","PropTypes","connect","map","compose","withHandlers","setPropTypes","firebaseConnect","Dropzone","TiArrowSortedDown","TiPencil","TiTrash","TiDownload","BootstrapTable","BootstrapButton","TableHeaderColumn","ExportCSVButton","Row","Col","Tabs","message","Card","Drawer","Menu","Icon","Dropdown","Button","Layout","Carousel","Upload","styles","topPad","paddingTop","leftPad","paddingLeft","props","name","multiple","action","onChange","info","status","file","console","log","fileList","success","error","Dragger","TabPane","uploadDocument","handleChangeUsername","event","setState","username","target","value","handleUploadStart","isUploading","progress","handleProgress","handleUploadError","handleUploadSuccess","addPermit","documentType","avatarURL","state","removeAuthListener","auth","onAuthStateChanged","user","samplesRef","database","ref","uid","metaDataPermit","downloadLink","filename","push","addReport","metaDataReport","addDrawing","metaDataDrawings","addEquipmentManual","metaDataEquipmentManual","onDrag","preventDefault","onDrop","dataTransfer","files","upload","storageRef","storage","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","TaskState","PAUSED","RUNNING","getDownloadURL","then","downloadURL","uploadFile","fileID","avatar","userID","orders","reports","drawings","blob","blobUrl","val","newState","order","id","report","drawing","itemId","sampleRef","remove","row","isSelected","e","textAlign","fontSize","removeDrawing","removeReport","window","open","url","URL","createObjectURL","img","document","createElement","background","padding","xs","sm","md","lg","position","paddingRight","lineHeight","verticalAlign","border","transition","cursor","borderRadius","width","height","backgroundColor","type","delay","editRow","bind","deleteReport","deleteDrawing"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link, Route } from 'react-router-dom';\nimport { Navbar, Nav, NavItem, ResponsiveEmbed, ButtonToolbar, Form, Grid, FormGroup, Radio,  Table, Popover, ControlLabel, MenuItem, DropdownButton, FormControl, Checkbox } from 'react-bootstrap';\nimport firebase from 'firebase';\nimport { fire } from '../fire';\nimport FileUploader from \"react-firebase-file-uploader\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { map } from 'lodash';\nimport { compose, withHandlers, setPropTypes } from 'recompose';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Dropzone from 'react-dropzone';\nimport { TiArrowSortedDown, TiPencil, TiTrash, TiDownload } from \"react-icons/ti\";\nimport {BootstrapTable, BootstrapButton, TableHeaderColumn, ExportCSVButton} from 'react-bootstrap-table';\n\nimport { Row, Col, Tabs, message, Card, Drawer, Menu, Icon, Dropdown, Button, Layout, Carousel, Upload } from 'antd';\n\nconst styles = {\n  topPad: {\n    paddingTop: \"20px\",\n  },\n  leftPad: {\n    paddingLeft: \"20px\",\n  },\n};\n\nconst props = {\n  name: 'file',\n  multiple: true,\n  action: '//jsonplaceholder.typicode.com/posts/',\n  onChange(info) {\n    const status = info.file.status;\n    if (status !== 'uploading') {\n      console.log(info.file, info.fileList);\n    }\n    if (status === 'done') {\n      message.success(`${info.file.name} file uploaded successfully.`);\n    } else if (status === 'error') {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  },\n}\n\nconst Dragger = Upload.Dragger;\n\n\n\nconst TabPane = Tabs.TabPane;\n\nexport default class uploadDocument extends Component {\n\n  constructor() {\n      super();\n      this.state = {\n\n        username: \"\",\n        avatar: \"\",\n        isUploading: false,\n        progress: 0,\n        avatarURL: \"\",\n        userID: \"\",\n        filename: \"\",\n        orders: [],\n        reports: [],\n        drawings: [],\n\n        documentType: \"\",\n        fileID: \"\",\n        blob: null,\n        file:null,\n        blobUrl: null,\n        upload: '',\n        downloadURL: \"\",\n\n\n      }\n\n\n\n    }\n\n\n\n\n  handleChangeUsername = event =>\n    this.setState({ username: event.target.value });\n  handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\n  handleProgress = progress => this.setState({ progress });\n  handleUploadError = error => {\n    this.setState({ isUploading: false });\n    console.error(error);\n  };\n\n  handleUploadSuccess = () => {\n\n\n  };\n\n  addPermit = () => {\n    this.setState({\n      documentType: 'permit',\n      avatarURL: this.state.avatarURL,\n     });\n     console.log(this.state.avatarURL);\n     this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n     const samplesRef = fire.database().ref(`permits/${user.uid}`);\n     const metaDataPermit = {\n       downloadLink: this.state.avatarURL,\n       filename: this.state.filename,\n       documentType: this.state.documentType\n     }\n     samplesRef.push(metaDataPermit);\n     });\n  }\n  addReport = () => {\n    this.setState({\n      documentType: 'reports',\n      avatarURL: this.state.avatarURL,\n     });\n     console.log(this.state.avatarURL);\n     this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n     const samplesRef = fire.database().ref(`reports/${user.uid}`);\n     const metaDataReport = {\n       downloadLink: this.state.avatarURL,\n       filename: this.state.filename,\n       documentType: this.state.documentType\n     }\n     samplesRef.push(metaDataReport);\n     });\n  }\n  addDrawing = () => {\n    this.setState({\n      documentType: 'drawings',\n      avatarURL: this.state.avatarURL,\n     });\n     console.log(this.state.avatarURL);\n     this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n     const samplesRef = fire.database().ref(`drawings/${user.uid}`);\n     const metaDataDrawings = {\n       downloadLink: this.state.avatarURL,\n       filename: this.state.filename,\n       documentType: this.state.documentType\n     }\n     samplesRef.push(metaDataDrawings);\n     });\n  }\n  addEquipmentManual = () => {\n    this.setState({\n      avatarURL: this.state.avatarURL,\n     });\n     console.log(this.state.avatarURL);\n     this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n     const samplesRef = fire.database().ref(`equipmentManual/${user.uid}`);\n     const metaDataEquipmentManual = {\n       downloadLink: this.state.avatarURL,\n       filename: this.state.filename,\n       documentType: this.state.documentType\n     }\n     samplesRef.push(metaDataEquipmentManual);\n     });\n  }\n\n  componentDidMount() {\n\n    this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n      const samplesRef = fire.database().ref(`permits/${user.uid}`);\n      samplesRef.on('value', (snapshot) => {\n      let orders = snapshot.val();\n      console.log(orders);\n      let newState = [];\n      for (let order in orders) {\n        newState.push({\n          id: order,\n          downloadLink: orders[order].downloadLink,\n          filename: orders[order].filename,\n        });\n      }\n      this.setState({\n        orders: newState,\n      });\n    });\n  });\n  this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n    const samplesRef = fire.database().ref(`reports/${user.uid}`);\n    samplesRef.on('value', (snapshot) => {\n    let reports = snapshot.val();\n    console.log(reports);\n    let newState = [];\n    for (let report in reports) {\n      newState.push({\n        id: report,\n        downloadLink: reports[report].downloadLink,\n        filename: reports[report].filename,\n      });\n    }\n    this.setState({\n      reports: newState,\n    });\n  });\n});\n\nthis.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n  const samplesRef = fire.database().ref(`drawings/${user.uid}`);\n  samplesRef.on('value', (snapshot) => {\n  let drawings = snapshot.val();\n  console.log(drawings);\n  let newState = [];\n  for (let drawing in drawings) {\n    newState.push({\n      id: drawing,\n      downloadLink: drawings[drawing].downloadLink,\n      filename: drawings[drawing].filename,\n    });\n  }\n  this.setState({\n    drawings: newState,\n  });\n});\n\n});\n\n\n\n  }\n\n\n\n\n  removeReport(itemId) {\n    this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n    const sampleRef = fire.database().ref(`/reports/${user.uid}/${itemId}`);\n    sampleRef.remove();\n  });\n  }\n  removeDrawing(itemId) {\n    this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n    const sampleRef = fire.database().ref(`/drawings/${user.uid}/${itemId}`);\n    sampleRef.remove();\n  });\n  }\n\n  deleteDrawing(row, isSelected, e, id) {\n    console.log(`${isSelected.id}`);\n    return (\n      <div style={{textAlign: 'center'}}>\n      <Icon type=\"delete\" style={{fontSize: '24px'}}\n      onClick={() => this.removeDrawing(`${isSelected.id}`)}>\n        Click me\n      </Icon>\n      </div>\n    )\n  }\n  deleteReport(row, isSelected, e, id) {\n    console.log(`${isSelected.id}`);\n    return (\n      <div style={{textAlign: 'center'}}>\n      <Icon type=\"delete\" style={{fontSize: '24px'}}\n      onClick={() => this.removeReport(`${isSelected.id}`)}>\n        Click me\n      </Icon>\n      </div>\n\n    )\n  }\n\n  editRow(row, isSelected, e, id) {\n    console.log(`${isSelected.id}`);\n    return (\n        <div style={{textAlign: 'center'}}>\n      <Icon type=\"download\" style={{fontSize: '24px'}}\n      onClick={() => window.open(`${isSelected.downloadLink}`, \"_blank\")}><p>Download Page</p>\n\n      </Icon>\n      </div>\n    )\n  }\n\n\n\n\n\n\n\n  onDrag = event => {\n    event.preventDefault()\n  }\n\n  onDrop = event => {\n    event.preventDefault()\n    let file = event.dataTransfer.files[0]\n\n      this.setState({ file: file, upload: 0  })\n      console.log(file);\n\n\n\n\n\n\n  }\n\n  upload = () => {\n\n  var filename = this.state.file.name;\n  var storageRef = firebase.storage().ref('/images/' + filename);\n  var uploadTask = storageRef.put(this.state.file);\n  var filename = this.state.file.name;\n\n\n\n  // Register three observers:\n// 1. 'state_changed' observer, called any time the state changes\n// 2. Error observer, called on failure\n// 3. Completion observer, called on successful completion\nuploadTask.on('state_changed', (snapshot) => {\n  // Observe state change events such as progress, pause, and resume\n  // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n  var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n  console.log('Upload is ' + progress + '% done');\n  this.setState({ upload: progress });\n  switch (snapshot.state) {\n    case firebase.storage.TaskState.PAUSED: // or 'paused'\n      console.log('Upload is paused');\n      break;\n    case firebase.storage.TaskState.RUNNING: // or 'running'\n      console.log('Upload is running');\n      break;\n  }\n}, function(error) {\n  // Handle unsuccessful uploads\n}, () => {\n  // Handle successful uploads on complete\n  // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n  message.success(`${this.state.file.name} file uploaded successfully.`);\n  uploadTask.snapshot.ref.getDownloadURL().then( (downloadURL) => {\n    console.log('File available at', downloadURL);\n    this.setState({ downloadURL: downloadURL })\n  });\n});\n\n  }\n\n\n\n\n\nuploadFile = (event: any): void => {\n    console.log(event.target.files[0]);\n    this.setState({\n      fileID: event.target.files[0],\n    })\n}\n\n\n\n\n\n\n  render() {\n\n\nlet { file } = this.state\nconsole.log(this.state.file);\nlet url = file && URL.createObjectURL(file)\n\n\nlet img = document.createElement(\"my-node\");\n\n\n    return (\n      <Layout>\n\n        <div style={{ background: '#F0F0F0', padding: '5px' }}>\n        <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\n          <div style={{position: 'relative'}}>\n        <Col xs={24} sm={24} md={18} lg={18} xl={18}>\n          <h1><b>Upload Documents</b></h1>\n\n        </Col>\n\n\n      </div>\n        </Row>\n\n        </div>\n\n        <div style={{ background: '#F0F0F0', paddingTop: '15px', paddingRight: '5px', paddingLeft: '5px' }}>\n        <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\n        <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n\n\n              <Card\n\n\n              >\n              <Tabs defaultActiveKey=\"1\" >\n          <TabPane tab=\"Upload Documents\" key=\"1\">\n            <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n            <Row>\n\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} style={{paddingTop: '20px'}}>\n\n                <p style={{lineHeight: '2px', paddingLeft: '0px', fontSize: '32px'}}><b>UPLOAD DOCUMENTS</b></p>\n\n\n          </Col>\n        </Row>\n\n            <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n\n              <Row>\n                <Col span={24} style={{\n                    verticalAlign: 'middle', textAlign: 'center',}}>\n                  <hr></hr>\n                    <div style={{\n    border: '1px dashed #d9d9d9',\n\n    transition: 'border-color 0.3s',\n    cursor: 'pointer',\n    borderRadius: '4px',\n    textAlign: 'center',\n    width: '100%',\n    height: '100%',\n    position: 'relative',\n    backgroundColor: '#fafafa',\n}} onDragOver={this.onDrag} onDrop={this.onDrop}>\n<div style={{\n    verticalAlign: 'middle', textAlign: 'center',}}>\n\n                  <Icon style={{fontSize: '48px'}} type=\"inbox\" />\n                  <p>Drop an image!</p>\n                    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                    <p className=\"ant-upload-hint\">Support for a single  upload. Strictly prohibit from uploading company data or other band files</p>\n                  </div>\n                </div>\n                \n          </Col>\n            </Row>\n\n    <Row>\n      <form>\n      <FormGroup>\n        <Row>\n\n\n\n          <Row>\n\n      <Col xs={24} sm={6} md={6} lg={6} xl={6}><b>File</b></Col>\n      <Col xs={24} sm={18} md={18} lg={18} xl={18}>\n        <Dragger {...props}>\n    <p className=\"ant-upload-drag-icon\">\n      <Icon type=\"inbox\" />\n    </p>\n    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n    <p className=\"ant-upload-hint\">Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files</p>\n  </Dragger>\n<Button onClick={this.upload}>Upload</Button>\n\n   </Col>\n\n\n\n    </Row>\n\n\n\n\n\n\n\n        </Row>\n\n\n\n      </FormGroup>\n    </form>\n\n    </Row>\n\n    <Row>\n\n\n\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} style={styles.topPad}>\n              <h3>Reports</h3>\n            <BootstrapTable\n            data={ this.state.reports}\n            pagination\n            >\n\n    <TableHeaderColumn\n      dataField='filename' isKey\n\n      filter={ { type: 'RegexFilter', delay: 1000 }  } dataSort\n      >File Name</TableHeaderColumn>\n      <TableHeaderColumn\n            dataField='button'\n            dataFormat={this.editRow.bind(this)}\n            >Download File</TableHeaderColumn>\n      <TableHeaderColumn\n            dataField='button'\n            dataFormat={this.deleteReport.bind(this)}\n            >Delete File</TableHeaderColumn>\n            </BootstrapTable>\n          </Col>\n\n\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} style={styles.topPad}>\n              <h3>Drawings</h3>\n            <BootstrapTable\n            data={ this.state.drawings}\n            pagination\n            >\n\n    <TableHeaderColumn\n      dataField='filename' isKey\n      dataSort\n      filter={ { type: 'RegexFilter', delay: 1000 }  } dataSort\n      >File Name</TableHeaderColumn>\n      <TableHeaderColumn\n            dataField='button'\n            dataFormat={this.editRow.bind(this)}\n            >Download File</TableHeaderColumn>\n      <TableHeaderColumn\n            dataField='button'\n            dataFormat={this.deleteDrawing.bind(this)}\n            >Delete File</TableHeaderColumn>\n\n\n\n\n            </BootstrapTable>\n          </Col>\n              </Row>\n\n\n\n        </Col>\n        </Row>\n        <Row>\n        <Col span={24}>\n        <hr></hr>\n        </Col>\n        </Row>\n\n\n\n\n\n\n        </Col>\n      </Row>\n\n          </TabPane>\n\n\n        </Tabs>\n\n              </Card>\n        </Col>\n        </Row>\n        </div>\n\n\n\n\n\n      </Layout>\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}