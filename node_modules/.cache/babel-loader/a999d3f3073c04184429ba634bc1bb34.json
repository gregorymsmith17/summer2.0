{"ast":null,"code":"import _defineProperty from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/Greg/Desktop/react/summer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Greg/Desktop/react/summer/src/components/documents/reports.jsx\";\nimport React, { Component } from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport { Navbar, Nav, NavItem, ResponsiveEmbed, ButtonToolbar, Form, Grid, FormGroup, Radio, Table, Popover, ControlLabel, MenuItem, DropdownButton, FormControl, Checkbox } from 'react-bootstrap';\nimport firebase from 'firebase';\nimport { fire } from '../../fire';\nimport FileUploader from \"react-firebase-file-uploader\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { map } from 'lodash';\nimport { compose, withHandlers, setPropTypes } from 'recompose';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Dropzone from 'react-dropzone';\nimport { TiArrowSortedDown, TiPencil, TiTrash, TiDownload } from \"react-icons/ti\";\nimport { BootstrapTable, BootstrapButton, TableHeaderColumn, ExportCSVButton } from 'react-bootstrap-table';\nimport { Row, Col, Tabs, message, Card, Drawer, Menu, Icon, Dropdown, Button, Layout, Carousel, Upload, Progress } from 'antd';\nvar styles = {\n  topPad: {\n    paddingTop: \"20px\"\n  },\n  leftPad: {\n    paddingLeft: \"20px\"\n  }\n};\nvar TabPane = Tabs.TabPane;\n\nvar reports =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(reports, _Component);\n\n  function reports() {\n    var _this;\n\n    _classCallCheck(this, reports);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(reports).call(this));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.onDrag = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        hover: true,\n        border: '1.5px dashed #1890ff'\n      });\n    };\n\n    _this.onDrop = function (event) {\n      event.preventDefault();\n      var file = event.dataTransfer.files[0];\n\n      _this.setState({\n        file: file,\n        upload: 0,\n        fileText: file.name,\n        progressDisplay: null\n      });\n\n      console.log(file);\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var filename = _this.state.file.name;\n        var storageRef = firebase.storage().ref('/Reports/' + filename);\n        var uploadTask = storageRef.put(_this.state.file);\n        var filename = _this.state.file.name; // Register three observers:\n        // 1. 'state_changed' observer, called any time the state changes\n        // 2. Error observer, called on failure\n        // 3. Completion observer, called on successful completion\n\n        uploadTask.on('state_changed', function (snapshot) {\n          // Observe state change events such as progress, pause, and resume\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n          console.log('Upload is ' + progress + '% done');\n\n          _this.setState({\n            upload: parseFloat(progress).toFixed(1)\n          });\n\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED:\n              // or 'paused'\n              console.log('Upload is paused');\n              break;\n\n            case firebase.storage.TaskState.RUNNING:\n              // or 'running'\n              console.log('Upload is running');\n              break;\n          }\n        }, function (error) {// Handle unsuccessful uploads\n        }, function () {\n          // Handle successful uploads on complete\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n          message.success(\"\".concat(_this.state.file.name, \" file uploaded successfully.\"));\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            console.log('File available at', downloadURL);\n\n            _this.setState({\n              downloadURL: downloadURL,\n              documentType: 'Reports'\n            });\n\n            var samplesRef = fire.database().ref(\"\".concat(user.uid, \"/\").concat(_this.state.currentProject, \"/Reports\"));\n            var metaDataReport = {\n              downloadLink: _this.state.downloadURL,\n              filename: _this.state.file.name,\n              documentType: _this.state.documentType\n            };\n            samplesRef.push(metaDataReport);\n            console.log(metaDataReport);\n          });\n        });\n      });\n    };\n\n    _this.hoverOn = function () {\n      _this.setState({\n        hover: true,\n        border: '4px dashed #1890ff'\n      });\n    };\n\n    _this.hoverOff = function () {\n      _this.setState({\n        hover: false,\n        border: '1px dashed gray'\n      });\n    };\n\n    _this.fillStates = function (itemId) {\n      var area = '';\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var sampleRef = fire.database().ref(\"\".concat(user.uid, \"/\").concat(_this.state.currentProject, \"/Reports/\").concat(itemId));\n        var id = fire.database().ref().child(\"\".concat(user.uid, \"/\").concat(_this.state.currentProject, \"/Reports/\").concat(itemId)).key;\n        sampleRef.on('value', function (snapshot) {\n          _this.setState({\n            visible1: true,\n            downloadLink: '',\n            filename: '',\n            documentType: '',\n            id: id\n          });\n\n          var orders = snapshot.val();\n          var id = fire.database().ref().child(\"\".concat(user.uid, \"/\").concat(_this.state.currentProject, \"/Reports/\").concat(itemId)).key;\n          var newState = [];\n\n          for (var order in orders) {\n            newState.push({\n              id: order,\n              downloadLink: orders[order].downloadLink,\n              filename: orders[order].filename,\n              documentType: orders[order].documentType\n            });\n          }\n\n          _this.setState({\n            id: id,\n            downloadLink: snapshot.child('downloadLink').val(),\n            filename: snapshot.child('filename').val(),\n            documentType: snapshot.child('documentType').val()\n          });\n        });\n      });\n    };\n\n    _this.writeData = function (e) {\n      e.preventDefault(); //fire.database().ref('samples') refers to the main title of the fire database.\n\n      _this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var samplesRef = fire.database().ref(\"\".concat(user.uid, \"/\").concat(_this.state.currentProject, \"/Reports/\").concat(_this.state.id));\n        var metaDataReport = {\n          downloadLink: _this.state.downloadLink,\n          filename: _this.state.filename,\n          documentType: _this.state.documentType\n        };\n        samplesRef.set(metaDataReport);\n\n        _this.setState({\n          visible1: false\n        });\n      });\n    };\n\n    _this.onClose = function () {\n      _this.setState({\n        visible: false,\n        visible1: false,\n        visible2: false\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      avatar: \"\",\n      isUploading: false,\n      progress: 0,\n      avatarURL: \"\",\n      userID: \"\",\n      filename: \"\",\n      orders: [],\n      reports: [],\n      drawings: [],\n      documentType: \"\",\n      fileID: \"\",\n      blob: null,\n      file: null,\n      blobUrl: null,\n      upload: '',\n      downloadURL: \"\",\n      hover: false,\n      border: '1px dashed gray',\n      progressDisplay: 'none',\n      currentProject: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(reports, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        _this2.setState({\n          userID: user.uid\n        });\n\n        var currentProjectRef = fire.database().ref(\"\".concat(user.uid, \"/currentProject\"));\n        currentProjectRef.on('value', function (snapshot) {\n          var project = snapshot.child('currentProject').val();\n          console.log(project);\n\n          _this2.setState({\n            currentProject: project\n          });\n\n          var samplesRef = fire.database().ref(\"\".concat(user.uid, \"/\").concat(_this2.state.currentProject, \"/Reports\"));\n          samplesRef.on('value', function (snapshot) {\n            var reports = snapshot.val();\n            console.log(reports);\n            var newState = [];\n\n            for (var report in reports) {\n              newState.push({\n                id: report,\n                downloadLink: reports[report].downloadLink,\n                filename: reports[report].filename\n              });\n            }\n\n            _this2.setState({\n              reports: newState\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: \"removeReport\",\n    value: function removeReport(itemId) {\n      var _this3 = this;\n\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var sampleRef = fire.database().ref(\"\".concat(_this3.state.userID, \"/\").concat(_this3.state.currentProject, \"/Reports/\").concat(itemId));\n        sampleRef.remove();\n      });\n    }\n  }, {\n    key: \"deleteReport\",\n    value: function deleteReport(row, isSelected, e, id) {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"delete\",\n        style: {\n          fontSize: '24px'\n        },\n        onClick: function onClick() {\n          return _this4.removeReport(\"\".concat(isSelected.id));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Click me\"));\n    }\n  }, {\n    key: \"downloadItem\",\n    value: function downloadItem(row, isSelected, e, id) {\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"download\",\n        style: {\n          fontSize: '24px'\n        },\n        onClick: function onClick() {\n          return window.open(\"\".concat(isSelected.downloadLink), \"_blank\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Download Page\")));\n    }\n  }, {\n    key: \"onChangeFile\",\n    value: function onChangeFile(event) {\n      var _this5 = this;\n\n      event.stopPropagation();\n      event.preventDefault();\n      var file = event.target.files[0];\n      console.log(file);\n      this.setState({\n        file: file,\n        upload: 0,\n        fileText: file.name,\n        progressDisplay: null\n      });\n      this.removeAuthListener = fire.auth().onAuthStateChanged(function (user) {\n        var filename = _this5.state.file.name;\n        var storageRef = firebase.storage().ref('/Reports/' + filename);\n        var uploadTask = storageRef.put(_this5.state.file);\n        var filename = _this5.state.file.name; // Register three observers:\n        // 1. 'state_changed' observer, called any time the state changes\n        // 2. Error observer, called on failure\n        // 3. Completion observer, called on successful completion\n\n        uploadTask.on('state_changed', function (snapshot) {\n          // Observe state change events such as progress, pause, and resume\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n          console.log('Upload is ' + progress + '% done');\n\n          _this5.setState({\n            upload: parseFloat(progress).toFixed(1)\n          });\n\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED:\n              // or 'paused'\n              console.log('Upload is paused');\n              break;\n\n            case firebase.storage.TaskState.RUNNING:\n              // or 'running'\n              console.log('Upload is running');\n              break;\n          }\n        }, function (error) {// Handle unsuccessful uploads\n        }, function () {\n          // Handle successful uploads on complete\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n          message.success(\"\".concat(_this5.state.file.name, \" file uploaded successfully.\"));\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            console.log('File available at', downloadURL);\n\n            _this5.setState({\n              downloadURL: downloadURL,\n              documentType: 'Reports'\n            });\n\n            var samplesRef = fire.database().ref(\"\".concat(user.uid, \"/\").concat(_this5.state.currentProject, \"/Reports\"));\n            var metaDataReport = {\n              downloadLink: _this5.state.downloadURL,\n              filename: _this5.state.file.name,\n              documentType: _this5.state.documentType\n            };\n            samplesRef.push(metaDataReport);\n            console.log(metaDataReport);\n          });\n        });\n      });\n    }\n  }, {\n    key: \"editRow\",\n    value: function editRow(row, isSelected, e, id) {\n      var _this6 = this;\n\n      console.log(\"\".concat(isSelected.id));\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"edit\",\n        style: {\n          fontSize: '24px'\n        },\n        onClick: function onClick() {\n          return _this6.fillStates(\"\".concat(isSelected.id));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \"Click me\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(Drawer, {\n        title: \"Edit File Name\",\n        placement: this.state.placement,\n        closable: false,\n        onClose: this.onClose,\n        visible: this.state.visible1,\n        width: 500,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: {\n          textAlign: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"right-circle\",\n        style: {\n          fontSize: '30px'\n        },\n        onClick: function onClick() {\n          return _this7.onClose();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, \"+ Add Sample\")), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 6,\n        md: 6,\n        lg: 6,\n        xl: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, \"File Name\")), React.createElement(Col, {\n        xs: 24,\n        sm: 18,\n        md: 18,\n        lg: 18,\n        xl: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        name: \"filename\",\n        onChange: this.handleChange,\n        type: \"text\",\n        placeholder: \"File\",\n        value: this.state.filename,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        style: {\n          paddingTop: '10px',\n          textAlign: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.writeData,\n        bsStyle: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"Edit File Name\")))), React.createElement(\"input\", {\n        id: \"myInput\",\n        type: \"file\",\n        ref: function ref(_ref) {\n          return _this7.upload = _ref;\n        },\n        style: {\n          display: 'none'\n        },\n        onChange: this.onChangeFile.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          background: '#F4F7FA',\n          padding: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24,\n          lg: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 18,\n        lg: 18,\n        xl: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, \"REPORTS\")))))), React.createElement(\"div\", {\n        style: {\n          background: '#F4F7FA',\n          paddingTop: '15px',\n          paddingRight: '5px',\n          paddingLeft: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: {\n          xs: 8,\n          sm: 16,\n          md: 24,\n          lg: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        style: {\n          paddingTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          lineHeight: '2px',\n          paddingLeft: '0px',\n          fontSize: '32px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, \"UPLOAD REPORTS\")))), React.createElement(Row, {\n        style: {\n          paddingTop: '15px',\n          align: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: {\n          span: 18,\n          offset: 4\n        },\n        lg: {\n          span: 18,\n          offset: 4\n        },\n        xl: {\n          span: 18,\n          offset: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onMouseEnter: this.hoverOn,\n        onMouseLeave: this.hoverOff,\n        onClick: function onClick() {\n          _this7.upload.click();\n        },\n        style: {\n          border: this.state.border,\n          position: 'relative',\n          transition: 'border-color 0.3s',\n          cursor: 'pointer',\n          borderRadius: '4px',\n          textAlign: 'center',\n          width: '90%',\n          height: '200%',\n          backgroundColor: '#fafafa'\n        },\n        onDragOver: this.onDrag,\n        onDrop: this.onDrop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          verticalAlign: 'middle',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        style: {\n          fontSize: '54px',\n          color: '#1890ff',\n          paddingTop: '5px'\n        },\n        type: \"inbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, \"Drop a Report!\")), React.createElement(\"p\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      }, \"Click or drag file to this area to upload\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529\n        },\n        __self: this\n      }, React.createElement(Col, {\n        style: {\n          paddingTop: '15px',\n          textAlign: 'center'\n        },\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }, React.createElement(Progress, {\n        style: {\n          display: this.state.progressDisplay\n        },\n        type: \"dashboard\",\n        percent: this.state.upload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        style: {\n          paddingTop: '15px',\n          textAlign: 'center'\n        },\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }, this.state.fileText)))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 24,\n        sm: 24,\n        md: 24,\n        lg: 24,\n        xl: 24,\n        style: styles.topPad,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552\n        },\n        __self: this\n      }, \"Reports\"), React.createElement(BootstrapTable, {\n        data: this.state.reports,\n        pagination: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        width: \"350px\",\n        dataField: \"filename\",\n        isKey: true,\n        filter: {\n          type: 'RegexFilter',\n          delay: 1000\n        },\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }, \"File Name\"), React.createElement(TableHeaderColumn, {\n        width: \"80px\",\n        dataField: \"button\",\n        dataFormat: this.downloadItem.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }, \"Download File\"), React.createElement(TableHeaderColumn, {\n        width: \"80px\",\n        dataField: \"button\",\n        dataFormat: this.deleteReport.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      }, \"Delete File\"), React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        dataFormat: this.editRow.bind(this),\n        width: \"80px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }, \"Edit\")))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588\n        },\n        __self: this\n      }))))))))));\n    }\n  }]);\n\n  return reports;\n}(Component);\n\nexport { reports as default };","map":{"version":3,"sources":["/Users/Greg/Desktop/react/summer/src/components/documents/reports.jsx"],"names":["React","Component","Link","Route","Navbar","Nav","NavItem","ResponsiveEmbed","ButtonToolbar","Form","Grid","FormGroup","Radio","Table","Popover","ControlLabel","MenuItem","DropdownButton","FormControl","Checkbox","firebase","fire","FileUploader","PropTypes","connect","map","compose","withHandlers","setPropTypes","firebaseConnect","Dropzone","TiArrowSortedDown","TiPencil","TiTrash","TiDownload","BootstrapTable","BootstrapButton","TableHeaderColumn","ExportCSVButton","Row","Col","Tabs","message","Card","Drawer","Menu","Icon","Dropdown","Button","Layout","Carousel","Upload","Progress","styles","topPad","paddingTop","leftPad","paddingLeft","TabPane","reports","handleChange","e","setState","target","name","value","onDrag","event","preventDefault","hover","border","onDrop","file","dataTransfer","files","upload","fileText","progressDisplay","console","log","removeAuthListener","auth","onAuthStateChanged","user","filename","state","storageRef","storage","ref","uploadTask","put","on","snapshot","progress","bytesTransferred","totalBytes","parseFloat","toFixed","TaskState","PAUSED","RUNNING","error","success","getDownloadURL","then","downloadURL","documentType","samplesRef","database","uid","currentProject","metaDataReport","downloadLink","push","hoverOn","hoverOff","fillStates","itemId","area","sampleRef","id","child","key","visible1","orders","val","newState","order","writeData","set","onClose","visible","visible2","username","avatar","isUploading","avatarURL","userID","drawings","fileID","blob","blobUrl","bind","currentProjectRef","project","report","remove","row","isSelected","textAlign","fontSize","removeReport","window","open","stopPropagation","placement","display","onChangeFile","background","padding","xs","sm","md","lg","position","paddingRight","lineHeight","align","span","offset","click","transition","cursor","borderRadius","width","height","backgroundColor","verticalAlign","color","type","delay","downloadItem","deleteReport","editRow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link, Route } from 'react-router-dom';\nimport { Navbar, Nav, NavItem, ResponsiveEmbed, ButtonToolbar, Form, Grid, FormGroup, Radio,  Table, Popover, ControlLabel, MenuItem, DropdownButton, FormControl, Checkbox } from 'react-bootstrap';\nimport firebase from 'firebase';\nimport { fire } from '../../fire';\nimport FileUploader from \"react-firebase-file-uploader\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { map } from 'lodash';\nimport { compose, withHandlers, setPropTypes } from 'recompose';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Dropzone from 'react-dropzone';\nimport { TiArrowSortedDown, TiPencil, TiTrash, TiDownload } from \"react-icons/ti\";\nimport {BootstrapTable, BootstrapButton, TableHeaderColumn, ExportCSVButton} from 'react-bootstrap-table';\n\nimport { Row, Col, Tabs, message, Card, Drawer, Menu, Icon, Dropdown, Button, Layout, Carousel, Upload, Progress } from 'antd';\n\nconst styles = {\n  topPad: {\n    paddingTop: \"20px\",\n  },\n  leftPad: {\n    paddingLeft: \"20px\",\n  },\n};\n\n\n\n\n\n\nconst TabPane = Tabs.TabPane;\n\nexport default class reports extends Component {\n\n  constructor() {\n      super();\n      this.state = {\n\n        username: \"\",\n        avatar: \"\",\n        isUploading: false,\n        progress: 0,\n        avatarURL: \"\",\n        userID: \"\",\n        filename: \"\",\n        orders: [],\n        reports: [],\n        drawings: [],\n\n        documentType: \"\",\n        fileID: \"\",\n        blob: null,\n        file: null,\n        blobUrl: null,\n        upload: '',\n        downloadURL: \"\",\n        hover: false,\n        border: '1px dashed gray',\n        progressDisplay: 'none',\n        currentProject: '',\n\n\n      }\n\nthis.handleChange = this.handleChange.bind(this);\n\n    }\n\n    handleChange = (e) => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n\n    }\n\n  componentDidMount() {\n\n\n  this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n\n    this.setState({\n      userID: user.uid,\n\n    })\n\n    const currentProjectRef = fire.database().ref(`${user.uid}/currentProject`);\n    currentProjectRef.on('value', (snapshot) => {\n      let project = snapshot.child('currentProject').val();\n      console.log(project);\n      this.setState({\n        currentProject: project\n      })\n\n      const samplesRef = fire.database().ref(`${user.uid}/${this.state.currentProject}/Reports`);\n      samplesRef.on('value', (snapshot) => {\n      let reports = snapshot.val();\n      console.log(reports);\n      let newState = [];\n      for (let report in reports) {\n        newState.push({\n          id: report,\n          downloadLink: reports[report].downloadLink,\n          filename: reports[report].filename,\n        });\n      }\n      this.setState({\n        reports: newState,\n      });\n    });\n\n    })\n\n\n});\n\n\n\n\n\n  }\n\n\n\n\n  removeReport(itemId) {\n    this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n    const sampleRef = fire.database().ref(`${this.state.userID}/${this.state.currentProject}/Reports/${itemId}`);\n    sampleRef.remove();\n  });\n  }\n\n\n\n  deleteReport(row, isSelected, e, id) {\n\n    return (\n      <div style={{textAlign: 'center'}}>\n      <Icon type=\"delete\" style={{fontSize: '24px'}}\n      onClick={() => this.removeReport(`${isSelected.id}`)}>\n        Click me\n      </Icon>\n      </div>\n\n    )\n  }\n\n  downloadItem(row, isSelected, e, id) {\n\n    return (\n        <div style={{textAlign: 'center'}}>\n      <Icon type=\"download\" style={{fontSize: '24px'}}\n      onClick={() => window.open(`${isSelected.downloadLink}`, \"_blank\")}><p>Download Page</p>\n\n      </Icon>\n      </div>\n    )\n  }\n\n\n\n  onDrag = event => {\n    event.preventDefault()\n    this.setState({ hover: true,\n    border: '1.5px dashed #1890ff'  });\n  }\n\n  onDrop = event => {\n    event.preventDefault()\n    let file = event.dataTransfer.files[0]\n\n      this.setState({ file: file, upload: 0, fileText: file.name, progressDisplay: null,  })\n      console.log(file);\n\n      this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n        var filename = this.state.file.name;\n        var storageRef = firebase.storage().ref('/Reports/' + filename);\n        var uploadTask = storageRef.put(this.state.file);\n        var filename = this.state.file.name;\n\n\n\n        // Register three observers:\n      // 1. 'state_changed' observer, called any time the state changes\n      // 2. Error observer, called on failure\n      // 3. Completion observer, called on successful completion\n      uploadTask.on('state_changed', (snapshot) => {\n        // Observe state change events such as progress, pause, and resume\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        console.log('Upload is ' + progress + '% done');\n        this.setState({ upload: parseFloat(progress).toFixed(1) });\n        switch (snapshot.state) {\n          case firebase.storage.TaskState.PAUSED: // or 'paused'\n            console.log('Upload is paused');\n            break;\n          case firebase.storage.TaskState.RUNNING: // or 'running'\n            console.log('Upload is running');\n            break;\n        }\n      }, function(error) {\n        // Handle unsuccessful uploads\n      }, () => {\n        // Handle successful uploads on complete\n        // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n        message.success(`${this.state.file.name} file uploaded successfully.`);\n        uploadTask.snapshot.ref.getDownloadURL().then( (downloadURL) => {\n          console.log('File available at', downloadURL);\n          this.setState({ downloadURL: downloadURL, documentType: 'Reports', })\n\n           const samplesRef = fire.database().ref(`${user.uid}/${this.state.currentProject}/Reports`);\n           const metaDataReport = {\n             downloadLink: this.state.downloadURL,\n             filename: this.state.file.name,\n             documentType: this.state.documentType\n           }\n           samplesRef.push(metaDataReport);\n           console.log(metaDataReport);\n\n\n        });\n      });\n\n      })\n\n\n\n  }\n\n\n\n\nhoverOn = () => {\n      this.setState({ hover: true,\n      border: '4px dashed #1890ff'  });\n    }\nhoverOff = () =>{\n  this.setState({ hover: false,\n  border: '1px dashed gray' });\n}\n\nonChangeFile(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    var file = event.target.files[0];\n    console.log(file);\n    this.setState({ file: file, upload: 0, fileText: file.name, progressDisplay: null,  })\n\n    this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n      var filename = this.state.file.name;\n      var storageRef = firebase.storage().ref('/Reports/' + filename);\n      var uploadTask = storageRef.put(this.state.file);\n      var filename = this.state.file.name;\n\n\n\n      // Register three observers:\n    // 1. 'state_changed' observer, called any time the state changes\n    // 2. Error observer, called on failure\n    // 3. Completion observer, called on successful completion\n    uploadTask.on('state_changed', (snapshot) => {\n      // Observe state change events such as progress, pause, and resume\n      // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n      var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log('Upload is ' + progress + '% done');\n      this.setState({ upload: parseFloat(progress).toFixed(1) });\n      switch (snapshot.state) {\n        case firebase.storage.TaskState.PAUSED: // or 'paused'\n          console.log('Upload is paused');\n          break;\n        case firebase.storage.TaskState.RUNNING: // or 'running'\n          console.log('Upload is running');\n          break;\n      }\n    }, function(error) {\n      // Handle unsuccessful uploads\n    }, () => {\n      // Handle successful uploads on complete\n      // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n      message.success(`${this.state.file.name} file uploaded successfully.`);\n      uploadTask.snapshot.ref.getDownloadURL().then( (downloadURL) => {\n        console.log('File available at', downloadURL);\n        this.setState({ downloadURL: downloadURL, documentType: 'Reports', })\n\n         const samplesRef = fire.database().ref(`${user.uid}/${this.state.currentProject}/Reports`);\n         const metaDataReport = {\n           downloadLink: this.state.downloadURL,\n           filename: this.state.file.name,\n           documentType: this.state.documentType\n         }\n         samplesRef.push(metaDataReport);\n         console.log(metaDataReport);\n\n\n      });\n    });\n\n    })\n\n}\n\neditRow(row, isSelected, e, id) {\n  console.log(`${isSelected.id}`);\n  return (\n      <div style={{textAlign: 'center'}}>\n    <Icon type=\"edit\" style={{fontSize: '24px'}}\n    onClick={() => this.fillStates(`${isSelected.id}`)}>\n      Click me\n    </Icon>\n    </div>\n  )\n}\n\nfillStates = (itemId) => {\n  let area = '';\n  this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n  const sampleRef = fire.database().ref(`${user.uid}/${this.state.currentProject}/Reports/${itemId}`);\n\n  let id = fire.database().ref().child(`${user.uid}/${this.state.currentProject}/Reports/${itemId}`).key;\n\n  sampleRef.on('value', (snapshot) => {\n\n    this.setState({\n      visible1: true,\n      downloadLink: '',\n      filename: '',\n      documentType: '',\n      id: id,\n\n\n    });\n\n  let orders = snapshot.val();\n  let id = fire.database().ref().child(`${user.uid}/${this.state.currentProject}/Reports/${itemId}`).key;\n\n  let newState = [];\n  for (let order in orders) {\n    newState.push({\n      id: order,\n\n      downloadLink: orders[order].downloadLink,\n      filename: orders[order].filename,\n      documentType: orders[order].documentType,\n\n\n    });\n  }\n  this.setState({\n\n    id: id,\n\n\n    downloadLink: snapshot.child('downloadLink').val(),\n    filename: snapshot.child('filename').val(),\n    documentType: snapshot.child('documentType').val(),\n\n\n\n  })\n\n\n});\n\n});\n}\n\nwriteData = (e) => {\n  e.preventDefault();\n  //fire.database().ref('samples') refers to the main title of the fire database.\n  this.removeAuthListener = fire.auth().onAuthStateChanged(user=>{\n  const samplesRef = fire.database().ref(`${user.uid}/${this.state.currentProject}/Reports/${this.state.id}`);\n\n\n\n\n\n  const metaDataReport = {\n\n\n    downloadLink: this.state.downloadLink,\n    filename: this.state.filename,\n    documentType: this.state.documentType,\n\n  }\n\n  samplesRef.set(metaDataReport);\n\n  this.setState({\n    visible1: false,\n  })\n\n\n});\n}\n\nonClose = () => {\n  this.setState({\n    visible: false,\n    visible1: false,\n    visible2: false,\n  });\n};\n\n\n\n  render() {\n\n\n\n\n\n    return (\n      <Layout>\n        <Drawer\n          title= \"Edit File Name\"\n          placement={this.state.placement}\n          closable={false}\n          onClose={this.onClose}\n          visible={this.state.visible1}\n          width={500}\n        >\n          <form>\n            <Row style={{textAlign: 'right'}}>\n            <Icon type=\"right-circle\"  style={{fontSize: '30px'}} onClick={() => this.onClose()}>+ Add Sample</Icon>\n            </Row>\n            <Row>\n      <FormGroup>\n        <Col xs={24} sm={6} md={6} lg={6} xl={6}><b>File Name</b></Col>\n        <Col xs={24} sm={18} md={18} lg={18} xl={18}>\n        <FormControl name=\"filename\" onChange={this.handleChange} type=\"text\" placeholder=\"File\" value={this.state.filename} /></Col>\n      </FormGroup>\n      </Row>\n\n\n\n\n\n    <Row style={{paddingTop: '10px', textAlign: 'right'}}>\n    <Button type=\"primary\" onClick={this.writeData} bsStyle=\"primary\">Edit File Name</Button>\n    </Row>\n\n\n\n\n\n    </form>\n        </Drawer>\n        <input id=\"myInput\"\n   type=\"file\"\n   ref={(ref) => this.upload = ref}\n   style={{display: 'none'}}\n   onChange={this.onChangeFile.bind(this)}\n/>\n\n        <div style={{ background: '#F4F7FA', padding: '5px' }}>\n        <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\n          <div style={{position: 'relative'}}>\n        <Col xs={24} sm={24} md={18} lg={18} xl={18}>\n          <h1><b>REPORTS</b></h1>\n\n        </Col>\n\n\n      </div>\n        </Row>\n\n        </div>\n\n        <div style={{ background: '#F4F7FA', paddingTop: '15px', paddingRight: '5px', paddingLeft: '5px' }}>\n        <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\n        <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n\n\n              <Card\n\n\n              >\n\n            <Row>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n            <Row>\n\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} style={{paddingTop: '20px'}}>\n\n                <p style={{lineHeight: '2px', paddingLeft: '0px', fontSize: '32px'}}><b>UPLOAD REPORTS</b></p>\n\n\n\n          </Col>\n        </Row>\n\n\n\n              <Row style={{paddingTop: '15px', align: 'center',}}>\n\n                <Col  xs={24} sm={24} md={{ span: 18, offset: 4 }} lg={{ span: 18, offset: 4  }} xl={{ span: 18, offset: 4  }}>\n\n\n\n\n                      <div\n                      onMouseEnter={this.hoverOn}\n                      onMouseLeave={this.hoverOff}\n                      onClick={()=>{this.upload.click()}}\n                      style={{\n                        border: this.state.border,\n                        position: 'relative',\n                        transition: 'border-color 0.3s',\n                        cursor: 'pointer',\n                        borderRadius: '4px',\n                        textAlign: 'center',\n                        width: '90%',\n                        height: '200%',\n\n                        backgroundColor: '#fafafa',\n}} onDragOver={this.onDrag} onDrop={this.onDrop}>\n<div style={{\n    verticalAlign: 'middle', textAlign: 'center',}}>\n\n                  <Icon style={{fontSize: '54px', color: '#1890ff', paddingTop: '5px'}} type=\"inbox\" />\n                  <p><b>Drop a Report!</b></p>\n                    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n\n                  </div>\n                </div>\n                </Col>\n\n\n                <div >\n\n                  <Col style={{paddingTop: '15px', textAlign: 'center',}} xs={24} sm={24} md={24} lg={24} xl={24} >\n\n                  <b><Progress style={{display: this.state.progressDisplay}} type=\"dashboard\" percent={this.state.upload} /></b>\n                  </Col>\n                  <Col style={{paddingTop: '15px', textAlign: 'center',}} xs={24} sm={24} md={24} lg={24} xl={24} >\n              <b>{this.state.fileText}</b>\n              </Col>\n              </div>\n\n\n\n\n            </Row>\n\n\n\n    <Row>\n\n\n\n            <Col xs={24} sm={24} md={24} lg={24} xl={24} style={styles.topPad}>\n              <h3>Reports</h3>\n            <BootstrapTable\n            data={ this.state.reports}\n            pagination\n            >\n\n    <TableHeaderColumn width='350px'\n      dataField='filename' isKey\n\n      filter={ { type: 'RegexFilter', delay: 1000 }  } dataSort\n      >File Name</TableHeaderColumn>\n    <TableHeaderColumn width='80px'\n            dataField='button'\n            dataFormat={this.downloadItem.bind(this)}\n            >Download File</TableHeaderColumn>\n          <TableHeaderColumn width='80px'\n            dataField='button'\n            dataFormat={this.deleteReport.bind(this)}\n            >Delete File</TableHeaderColumn>\n            <TableHeaderColumn\n            dataField='button'\n            dataFormat={this.editRow.bind(this)}\n            width='80px'\n            >Edit</TableHeaderColumn>\n            </BootstrapTable>\n          </Col>\n\n\n\n              </Row>\n\n\n\n\n        <Row>\n        <Col span={24}>\n        <hr></hr>\n        </Col>\n        </Row>\n\n\n\n\n\n\n        </Col>\n      </Row>\n\n\n\n              </Card>\n        </Col>\n        </Row>\n        </div>\n\n\n\n\n\n      </Layout>\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}